"use strict";!function(){function e(){gapi.load("client:auth2",i)}function i(){var e=document.getElementById("gcalendar-id").value,i=document.getElementById("gcalendar-key").value,t=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];gapi.client.init({apiKey:i,clientId:e,discoveryDocs:t,scope:"https://www.googleapis.com/auth/calendar"})}function t(e,i,t,n,a,o){gapi.auth2.getAuthInstance().isSignedIn.get()?s(e,i,t,n,a,o):gapi.auth2.getAuthInstance().signIn().then(function(){s(e,i,t,n,a,o)})}function s(e,i,t,s,n,a){var o={summary:e,location:i,description:a,start:{dateTime:t,timeZone:n},end:{dateTime:s,timeZone:n},reminders:{useDefault:!1,overrides:[{method:"email",minutes:1440},{method:"popup",minutes:10}]},colorId:"5"};gapi.client.calendar.events.insert({calendarId:"primary",resource:o}).execute(function(e){swal({title:"Session added to your google calendar!",icon:"success",button:"OK!"})})}var n=function(e,i,t){var s=$("#desc-"+e),n=$("#speaker-"+e);if(null!==i&&""!==i){var a=s.hasClass("in"),o=i,d=$("#v"+e);-1!==i.indexOf("v=")?o=i.split("v=")[1].replace(/[&#].*/,""):-1!==i.indexOf("https://youtu.be/")&&(o=i.split("https://youtu.be/")[1]),a||0!==$('[id="video-'+e+'"]').length?a&&(d.css("display","none"),$("#video-"+e).remove()):(d.css("display","block"),n.prepend('<iframe id = "video-'+e+'" class = "video-iframe col-xs-12 col-sm-12 col-md-12" src="https://www.youtube.com/embed/'+o+'" frameborder="0" allowfullscreen></iframe>'))}if(null!==t&&""!==t){var r=s.hasClass("in");r||0!==$('[id="slide-'+e+'"]').length?r&&$("#slide-"+e).remove():-1!==t.indexOf("pdf")?n.prepend('<iframe id = "slide-'+e+'" class = "iframe col-xs-12 col-sm-12 col-md-12" frameborder="0" src="https://docs.google.com/gview?url='+t+'&embedded=true"></iframe>'):-1===t.indexOf("ppt")&&-1===t.indexOf("pptx")||n.prepend('<iframe id = "slide-'+e+'" class = "iframe col-xs-12 col-sm-12 col-md-12" frameborder="0" src="https://view.officeapps.live.com/op/embed.aspx?src='+t+'"></iframe>')}};$(document).ready(function(){var e={room:{dateFilter:".date-filter",place:".venue-filter",room:".room-filter"},track:{dateFilter:".date-filter",place:".track-filter",room:".room-filter"},schedule:{dateFilter:".day-filter",place:".time-filter",room:".schedule-track"}},i=function(e,i,t,s){var n="";$(".fossasia-filter").each(function(){$(this).is(":visible")&&(n=$(this).val())}),$(".calendar").each(function(){var a=!1;if($(this).find(".room").each(function(){var o=!0;$(this).find(".session").each(function(){if($(this).find(".session-name").text().toUpperCase().indexOf(n.toUpperCase())>=0||$(this).find(".session-speakers-list a span").text().toUpperCase().indexOf(n.toUpperCase())>=0||$(this).find(".session-speakers-more").text().toUpperCase().indexOf(n.toUpperCase())>=0||$(this).find(".speaker-name").text().toUpperCase().indexOf(n.toUpperCase())>=0){var a=$(this).find(".title-inline .blacktext").text(),d=$(this).find(".blacktext i").text();e&&a!=t?$(this).hide():i&&d!=s?$(this).hide():($(this).show(),o=!1)}else $(this).hide()}),1==o?$(this).hide():($(this).show(),a++)}),a<=6){var o=100/a;$(this).find(".room").css("width",o+"%")}else $(this).find(".room").css("width","160px")})},t=function(i,t,s,n,a,o,d){var r="",l=e[i];$(".fossasia-filter").each(function(){$(this).is(":visible")&&(r=$(this).val())}),$(l.dateFilter).each(function(){var e=!0;$(this).find(l.place).each(function(){var c=!0,p="room"==i&&$(this).find(".text").text();console.log(i),$(this).find(l.room).each(function(){var e=$(this).attr("id");if($(this).find(".tip-description").text().toUpperCase().indexOf(r.toUpperCase())>=0||$(this).find(".session-speakers-list a span").text().toUpperCase().indexOf(r.toUpperCase())>=0||$(this).find(".session-speakers-more").text().toUpperCase().indexOf(r.toUpperCase())>=0||$(this).find(".event").text().toUpperCase().indexOf(r.toUpperCase())>=0||$(this).find(".speaker-name").text().toUpperCase().indexOf(r.toUpperCase())>=0){var i=$(this).find(".title-inline .blacktext").text(),l=p||$(this).find("#location").text();console.log(l),d&&1!=o[e]?$(this).hide():t&&i!=n?$(this).hide():s&&l!=a?$(this).hide():(c=!1,$(this).show())}else $(this).hide()}),1==c?$(this).hide():(e=!1,$(this).show())}),1==e?$(this).hide():$(this).show()})};window.main={calendarFilter:i,trackRoomFilter:t}}),window.handleClientLoad=e,window.initClient=i,window.handleAuthClick=t,window.listUpcomingEvents=s,window.loadVideoAndSlides=n}();