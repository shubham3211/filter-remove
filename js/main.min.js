"use strict";!function(){function e(){gapi.load("client:auth2",main.initClient)}function t(){var e=document.getElementById("gcalendar-id").value,t=document.getElementById("gcalendar-key").value,i=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];gapi.client.init({apiKey:t,clientId:e,discoveryDocs:i,scope:"https://www.googleapis.com/auth/calendar"})}function i(e,t,i,s,o,n){gapi.auth2.getAuthInstance().isSignedIn.get()?main.listUpcomingEvents(e,t,i,s,o,n):gapi.auth2.getAuthInstance().signIn().then(function(){main.listUpcomingEvents(e,t,i,s,o,n)})}function s(e,t,i,s,o,n){var a={summary:e,location:t,description:n,start:{dateTime:i,timeZone:o},end:{dateTime:s,timeZone:o},reminders:{useDefault:!1,overrides:[{method:"email",minutes:1440},{method:"popup",minutes:10}]},colorId:"5"};gapi.client.calendar.events.insert({calendarId:"primary",resource:a}).execute(function(e){swal({title:"Session added to your google calendar!",icon:"success",button:"OK!"})})}var o=function(e,t,i){var s=$("#desc-"+e),o=$("#speaker-"+e);if(null!==t&&""!==t){var n=s.hasClass("in"),a=t,r=$("#v"+e);-1!==t.indexOf("v=")?a=t.split("v=")[1].replace(/[&#].*/,""):-1!==t.indexOf("https://youtu.be/")&&(a=t.split("https://youtu.be/")[1]),n||0!==$('[id="video-'+e+'"]').length?n&&(r.css("display","none"),$("#video-"+e).remove()):(r.css("display","block"),o.prepend('<iframe id = "video-'+e+'" class = "video-iframe col-xs-12 col-sm-12 col-md-12" src="https://www.youtube.com/embed/'+a+'" frameborder="0" allowfullscreen></iframe>'))}if(null!==i&&""!==i){var l=s.hasClass("in");l||0!==$('[id="slide-'+e+'"]').length?l&&$("#slide-"+e).remove():-1!==i.indexOf("pdf")?o.prepend('<iframe id = "slide-'+e+'" class = "iframe col-xs-12 col-sm-12 col-md-12" frameborder="0" src="https://docs.google.com/gview?url='+i+'&embedded=true"></iframe>'):-1===i.indexOf("ppt")&&-1===i.indexOf("pptx")||o.prepend('<iframe id = "slide-'+e+'" class = "iframe col-xs-12 col-sm-12 col-md-12" frameborder="0" src="https://view.officeapps.live.com/op/embed.aspx?src='+i+'"></iframe>')}};$(document).ready(function(){var n={room:{dateFilter:".date-filter",place:".venue-filter",room:".room-filter"},track:{dateFilter:".date-filter",place:".track-filter",room:".room-filter"},schedule:{dateFilter:".day-filter",place:".time-filter",room:".schedule-track"}},a=function(e,t){var i=n[e],s=!1;$(".fossasia-filter").each(function(){$(this).is(":visible")&&0!==$(this).val().length&&(s=!0)});var o=$(i.dateFilter+":visible").length,a=$(".room:visible").length;if(t&&0==a||!t&&0==o){$("#no-results").remove();var r=s?"No matching results found.":"No result found.";$(".date-list").after("<p style = 'padding-left: 15px; margin-top: 15px; font-weight: bold; color: red' id='no-results'>"+r+"</p>")}else $("#no-results").remove()},r=function(e,t,i,s,o,a,r){var l="",d=n[e];$(".fossasia-filter").each(function(){$(this).is(":visible")&&(l=$(this).val())}),$(d.dateFilter).each(function(){var n=!0;$(this).find(d.place).each(function(){var c=!0,p="room"==e&&$(this).find(".text").text();$(this).find(d.room).each(function(){var e=$(this).attr("id");if($(this).find(".tip-description").text().toUpperCase().indexOf(l.toUpperCase())>=0||$(this).find(".session-speakers-list a span").text().toUpperCase().indexOf(l.toUpperCase())>=0||$(this).find(".session-speakers-more").text().toUpperCase().indexOf(l.toUpperCase())>=0||$(this).find(".event").text().toUpperCase().indexOf(l.toUpperCase())>=0||$(this).find(".speaker-name").text().toUpperCase().indexOf(l.toUpperCase())>=0){var n=$(this).find(".title-inline .blacktext").text(),d=p||$(this).find("#location").text();r&&1!=a[e]?$(this).hide():t&&n!=s?$(this).hide():i&&d!=o?$(this).hide():(c=!1,$(this).show())}else $(this).hide()}),1==c?$(this).hide():(n=!1,$(this).show())}),1==n?$(this).hide():$(this).show()})};window.main={trackRoomFilter:r,showNoResult:a,handleClientLoad:e,initClient:t,handleAuthClick:i,listUpcomingEvents:s,loadVideoAndSlides:o}})}();