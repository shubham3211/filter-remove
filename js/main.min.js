"use strict";!function(){function e(){gapi.load("client:auth2",main.initClient)}function i(){var e=document.getElementById("gcalendar-id").value,i=document.getElementById("gcalendar-key").value,t=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];gapi.client.init({apiKey:i,clientId:e,discoveryDocs:t,scope:"https://www.googleapis.com/auth/calendar"})}function t(e,i,t,s,a,n){gapi.auth2.getAuthInstance().isSignedIn.get()?main.listUpcomingEvents(e,i,t,s,a,n):gapi.auth2.getAuthInstance().signIn().then(function(){main.listUpcomingEvents(e,i,t,s,a,n)})}function s(e,i,t,s,a,n){var o={summary:e,location:i,description:n,start:{dateTime:t,timeZone:a},end:{dateTime:s,timeZone:a},reminders:{useDefault:!1,overrides:[{method:"email",minutes:1440},{method:"popup",minutes:10}]},colorId:"5"};gapi.client.calendar.events.insert({calendarId:"primary",resource:o}).execute(function(e){swal({title:"Session added to your google calendar!",icon:"success",button:"OK!"})})}var a=function(e,i,t){var s=$("#desc-"+e),a=$("#speaker-"+e);if(null!==i&&""!==i){var n=s.hasClass("in"),o=i,r=$("#v"+e);-1!==i.indexOf("v=")?o=i.split("v=")[1].replace(/[&#].*/,""):-1!==i.indexOf("https://youtu.be/")&&(o=i.split("https://youtu.be/")[1]),n||0!==$('[id="video-'+e+'"]').length?n&&(r.css("display","none"),$("#video-"+e).remove()):(r.css("display","block"),a.prepend('<iframe id = "video-'+e+'" class = "video-iframe col-xs-12 col-sm-12 col-md-12" src="https://www.youtube.com/embed/'+o+'" frameborder="0" allowfullscreen></iframe>'))}if(null!==t&&""!==t){var d=s.hasClass("in");d||0!==$('[id="slide-'+e+'"]').length?d&&$("#slide-"+e).remove():-1!==t.indexOf("pdf")?a.prepend('<iframe id = "slide-'+e+'" class = "iframe col-xs-12 col-sm-12 col-md-12" frameborder="0" src="https://docs.google.com/gview?url='+t+'&embedded=true"></iframe>'):-1===t.indexOf("ppt")&&-1===t.indexOf("pptx")||a.prepend('<iframe id = "slide-'+e+'" class = "iframe col-xs-12 col-sm-12 col-md-12" frameborder="0" src="https://view.officeapps.live.com/op/embed.aspx?src='+t+'"></iframe>')}};$(document).ready(function(){var n={room:{dateFilter:".date-filter",place:".venue-filter",room:".room-filter"},track:{dateFilter:".date-filter",place:".track-filter",room:".room-filter"},schedule:{dateFilter:".day-filter",place:".time-filter",room:".schedule-track"}},o=function(e,i,t,s,a,o,r){var d="",l=n[e];$(".fossasia-filter").each(function(){$(this).is(":visible")&&(d=$(this).val())}),$(l.dateFilter).each(function(){var n=!0;$(this).find(l.place).each(function(){var c=!0,p="room"==e&&$(this).find(".text").text();$(this).find(l.room).each(function(){var e=$(this).attr("id");if($(this).find(".tip-description").text().toUpperCase().indexOf(d.toUpperCase())>=0||$(this).find(".session-speakers-list a span").text().toUpperCase().indexOf(d.toUpperCase())>=0||$(this).find(".session-speakers-more").text().toUpperCase().indexOf(d.toUpperCase())>=0||$(this).find(".event").text().toUpperCase().indexOf(d.toUpperCase())>=0||$(this).find(".speaker-name").text().toUpperCase().indexOf(d.toUpperCase())>=0){var n=$(this).find(".title-inline .blacktext").text(),l=p||$(this).find("#location").text();r&&1!=o[e]?$(this).hide():i&&n!=s?$(this).hide():t&&l!=a?$(this).hide():(c=!1,$(this).show())}else $(this).hide()}),1==c?$(this).hide():(n=!1,$(this).show())}),1==n?$(this).hide():$(this).show()})};window.main={trackRoomFilter:o,handleClientLoad:e,initClient:i,handleAuthClick:t,listUpcomingEvents:s,loadVideoAndSlides:a}})}();